@model SAG2.Models.Proveedor
@{
    ViewBag.Title = "Modificar";
}
@{
    SAG2.Models.Usuario Usuario = (SAG2.Models.Usuario)Session["Usuario"];
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<div id="SAGBox">
    <h3>Proveedores</h3>
    <div id="controles">
        <p><a href="../Index" onclick="window.open(this.href, 'Buscar','width=750,height=400,scrollbars=yes,menubar=no,toolbars=no'); return false">BUSCAR</a></p>
        <p>@Html.ActionLink("NUEVO", "Create")</p>
        <p><a href="../Delete/@Html.Raw(Model.ID.ToString())" onclick="return confirm('Realmente desea borrar este registro?');">ELIMINAR</a></p>
        <p>@Html.ActionLink("CANCELAR", "Create")</p>
    </div>
    <div id="contenido" class="proveedores">
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    @Html.HiddenFor(model => model.ID)
    @Html.Hidden("DireccionID", Model.DireccionID)
    <fieldset>
    <table border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td valign="top" style="width: 50%;">
        <div class="editor-label expandido">
            @Html.LabelFor(model => model.Rut)
        </div>
        <div class="editor-field">
            @if (Usuario.esAdministrador)
            {
                @Html.TextBox("Rut", null, new { @style = "width: 70px;", @maxlength = "8" })
            }
            else
            {
                @Html.TextBox("Rut", null, new { @style = "width: 70px;", @maxlength = "8", @readonly = "readonly" })
            }
            -
            @if (Usuario.esAdministrador)
            {
                @Html.TextBox("DVBuscar", null, new { @style = "width: 20px;", @maxlength = "1", @Value=Model.DV })
            }
            else
            {
                @Html.TextBox("DVBuscar", null, new { @style = "width: 20px;", @maxlength = "1", @Value=Model.DV, @readonly = "readonly" })
            }
            <a href="../Index" onclick="window.open(this.href, 'Buscar','width=750,height=400,scrollbars=yes,menubar=no,toolbars=no'); return false">
                <img src="@Url.Content("~/Content/Images/Buscar2.png")" alt="Buscar" title="Buscar" style="vertical-align: middle;" />
            </a>
        </div>
        
        <div class="editor-label expandido">
            @Html.LabelFor(model => model.Nombre)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Nombre)
        </div>

        <div class="editor-label expandido">
            @Html.Label("Dirección")
        </div>
        <div class="editor-field">
            @Html.TextBox("N", null, new { @style = "width: 0; border: 0 solid White;", @disabled = "disabled" }) 
        </div>
        <div class="editor-label expandido subitem">
            @Html.Label("Calle")
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Direccion.Calle) 
        </div>
        <div class="editor-label expandido subitem">
            @Html.Label("Número")
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Direccion.Numero) 
        </div>
        <div class="editor-label expandido subitem">
            @Html.Label("Departamento")
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Direccion.Depto) 
        </div>
        <div class="editor-label expandido subitem">
            @Html.Label("Región")
        </div>
        <div class="editor-field">
            @Html.DropDownList("RegionID", null, new { @comuna = Model.Direccion.ComunaID.ToString() })
        </div>
        <div class="editor-label expandido subitem">
            @Html.Label("Comuna")
        </div>
        <div class="editor-field">
            <select name="ComunaID" id="ComunaID" tabindex="10">
                <option>Seleccione región</option>
            </select>
        </div>
        </td>
        <td valign="top">
        <div class="editor-label expandido">
            @Html.LabelFor(model => model.Fono)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Fono)
        </div>

        <div class="editor-label expandido">
            @Html.LabelFor(model => model.Fax)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Fax)
        </div>

        <div class="editor-label expandido">
            @Html.LabelFor(model => model.CorreoElectronico, "Correo")
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.CorreoElectronico)
        </div>

        <div class="editor-label expandido">
            @Html.LabelFor(model => model.PaginaWeb, "Página web")
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.PaginaWeb)
        </div>

        <div class="editor-label expandido">
            @Html.LabelFor(model => model.PersonaContacto, "Contacto")
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.PersonaContacto)
        </div>
         </td>
            </tr>
        </table>
        <p>
            <input type="submit" value="Guardar" id="submit" />
        </p>
        </fieldset>
}
    </div>
</div>